<IfModule mod_rewrite.c>
RewriteEngine On

# Keep old endpoint URLs working while the real files live in subfolders.
# This allows you to delete the old php/*.php endpoints on hosting
# without changing any html/ pages.

# Staff/Admin endpoints
RewriteRule ^(admin-.+\.php)$ staff/$1 [L]
RewriteRule ^(staff-.+\.php)$ staff/$1 [L]
RewriteRule ^verify-qr-scan\.php$ staff/verify-qr-scan.php [L]
RewriteRule ^process-parcel-retrieval\.php$ staff/process-parcel-retrieval.php [L]

# Receiver endpoints
RewriteRule ^(receiver-.+\.php)$ receiver/$1 [L]
RewriteRule ^track-parcel\.php$ receiver/track-parcel.php [L]
RewriteRule ^view-parcel-details\.php$ receiver/view-parcel-details.php [L]
RewriteRule ^load-more-notifications\.php$ receiver/load-more-notifications.php [L]
RewriteRule ^mark-notifications-read\.php$ receiver/mark-notifications-read.php [L]
RewriteRule ^delete-notification\.php$ receiver/delete-notification.php [L]

# Shared endpoints
RewriteRule ^db_connect\.php$ shared/db_connect.php [L]
RewriteRule ^download-qr\.php$ shared/download-qr.php [L]
RewriteRule ^forgot-password\.php$ shared/forgot-password.php [L]
RewriteRule ^get-parcel-with-qr\.php$ shared/get-parcel-with-qr.php [L]
RewriteRule ^logout\.php$ shared/logout.php [L]
RewriteRule ^notification-helper\.php$ shared/notification-helper.php [L]
RewriteRule ^password-validator\.php$ shared/password-validator.php [L]
</IfModule>
